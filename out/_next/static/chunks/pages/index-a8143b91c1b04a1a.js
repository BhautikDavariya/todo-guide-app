(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6813)}])},6813:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return w}});var n=t(5893),d=t(7294),s=t(7632),l=t(887),r=t(5587),a=t(4285),o=t(512),c=t(634),u=t(2003);let x=(0,u.j)("flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gray-900 text-white hover:bg-gray-800",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-gray-100",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=d.forwardRef((e,i)=>{let{className:t,variant:d,size:s,asChild:l=!1,...r}=e,a=l?c.g7:"button";return(0,n.jsx)(a,{className:(0,o.Z)(x({variant:d,size:s,className:t})),ref:i,...r})});m.displayName="Button";var f=e=>{let{id:i,children:t,title:d,description:s,onAddItem:l}=e,{attributes:c,setNodeRef:u,listeners:x,transform:f,transition:h,isDragging:g}=(0,r.nB)({id:i,data:{type:"container"}});return(0,n.jsxs)("div",{...c,ref:u,style:{transition:h,transform:a.ux.Translate.toString(f)},className:(0,o.Z)("w-full h-full p-4 bg-gray-50 rounded-xl flex flex-col gap-y-4",g&&"opacity-50"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("h1",{className:"text-gray-800 text-xl",children:d}),(0,n.jsx)("p",{className:"text-gray-400 text-sm",children:s})]}),(0,n.jsx)("button",{className:"border p-2 text-xs rounded-xl shadow-lg hover:shadow-xl",...x,children:"Drag Handle"})]}),t,(0,n.jsx)(m,{variant:"ghost",onClick:l,children:"Add Item"})]})},h=e=>{let{id:i,title:t}=e,{attributes:d,listeners:s,setNodeRef:l,transform:c,transition:u,isDragging:x}=(0,r.nB)({id:i,data:{type:"item"}});return(0,n.jsx)("div",{ref:l,...d,style:{transition:u,transform:a.ux.Translate.toString(c)},className:(0,o.Z)("px-2 py-4 bg-white shadow-md rounded-xl w-full border border-transparent hover:border-gray-200 cursor-pointer",x&&"opacity-50"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[t,(0,n.jsx)("button",{className:"border p-2 text-xs rounded-xl shadow-lg hover:shadow-xl",...s,children:"Drag Handle"})]})})},g=t(4483),p=t.n(g),v=t(1526),y=t(2023);function j(e){let{children:i,showModal:t,setShowModal:s,containerClasses:l}=e,r=(0,d.useRef)(null),a=(0,d.useCallback)(e=>{"Escape"===e.key&&s(!1)},[s]);return(0,d.useEffect)(()=>(document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)),[a]),(0,n.jsx)(v.M,{children:t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p(),{focusTrapOptions:{initialFocus:!1},children:(0,n.jsx)(y.E.div,{ref:r,className:"fixed inset-0 z-40 hidden min-h-screen items-center justify-center md:flex",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onMouseDown:e=>{r.current===e.target&&s(!1)},children:(0,n.jsx)("div",{className:(0,o.Z)("overflow relative w-full max-w-lg transform rounded-xl border border-gray-200 bg-white p-6 text-left shadow-2xl transition-all",l),children:i})},"desktop-modal")}),(0,n.jsx)(y.E.div,{className:"fixed inset-0 z-30 bg-gray-100 bg-opacity-10 backdrop-blur",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1)},"desktop-backdrop")]})})}var b=e=>{let{name:i,value:t,placeholder:d,onChange:s}=e;return(0,n.jsx)("input",{name:i,value:t,placeholder:d,onChange:s,className:"border p-2 w-full rounded-lg shadow-lg hover:shadow-xl"})};function w(){let[e,i]=(0,d.useState)([]),[t,a]=(0,d.useState)(null),[o,c]=(0,d.useState)(),[u,x]=(0,d.useState)(""),[g,p]=(0,d.useState)(""),[v,y]=(0,d.useState)(!1),[w,N]=(0,d.useState)(!1);function S(i,t){return"container"===t?e.find(e=>e.id===i):"item"===t?e.find(e=>e.items.find(e=>e.id===i)):void 0}let k=(0,l.Dy)((0,l.VT)(l.we),(0,l.VT)(l.Lg,{coordinateGetter:r.is}));return(0,n.jsxs)("div",{className:"mx-auto max-w-7xl py-10",children:[(0,n.jsx)(j,{showModal:v,setShowModal:y,children:(0,n.jsxs)("div",{className:"flex flex-col w-full items-start gap-y-4",children:[(0,n.jsx)("h1",{className:"text-gray-800 text-3xl font-bold",children:"Add Container"}),(0,n.jsx)(b,{type:"text",placeholder:"Container Title",name:"containername",value:u,onChange:e=>x(e.target.value)}),(0,n.jsx)(m,{onClick:()=>{if(!u)return;let t="container-".concat((0,s.Z)());i([...e,{id:t,title:u,items:[]}]),x(""),y(!1)},children:"Add container"})]})}),(0,n.jsx)(j,{showModal:w,setShowModal:N,children:(0,n.jsxs)("div",{className:"flex flex-col w-full items-start gap-y-4",children:[(0,n.jsx)("h1",{className:"text-gray-800 text-3xl font-bold",children:"Add Item"}),(0,n.jsx)(b,{type:"text",placeholder:"Item Title",name:"itemname",value:g,onChange:e=>p(e.target.value)}),(0,n.jsx)(m,{onClick:()=>{if(!g)return;let t="item-".concat((0,s.Z)()),n=e.find(e=>e.id===o);n&&(n.items.push({id:t,title:g}),i([...e]),p(""),N(!1))},children:"Add Item"})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-y-2",children:[(0,n.jsx)("h1",{className:"text-gray-800 text-3xl font-bold",children:"Dnd-kit Guide"}),(0,n.jsx)(m,{onClick:()=>y(!0),children:"Add Container"})]}),(0,n.jsx)("div",{className:"mt-10",children:(0,n.jsx)("div",{className:"grid grid-cols-3 gap-6",children:(0,n.jsxs)(l.LB,{sensors:k,collisionDetection:l.ey,onDragStart:function(e){let{active:i}=e,{id:t}=i;a(t)},onDragMove:t=>{let{active:n,over:d}=t;if(n.id.toString().includes("item")&&(null==d?void 0:d.id.toString().includes("item"))&&n&&d&&n.id!==d.id){let t=S(n.id,"item"),s=S(d.id,"item");if(!t||!s)return;let l=e.findIndex(e=>e.id===t.id),a=e.findIndex(e=>e.id===s.id),o=t.items.findIndex(e=>e.id===n.id),c=s.items.findIndex(e=>e.id===d.id);if(l===a){let t=[...e];t[l].items=(0,r.Rp)(t[l].items,o,c),i(t)}else{let t=[...e],[n]=t[l].items.splice(o,1);t[a].items.splice(c,0,n),i(t)}}if(n.id.toString().includes("item")&&(null==d?void 0:d.id.toString().includes("container"))&&n&&d&&n.id!==d.id){let t=S(n.id,"item"),s=S(d.id,"container");if(!t||!s)return;let l=e.findIndex(e=>e.id===t.id),r=e.findIndex(e=>e.id===s.id),a=t.items.findIndex(e=>e.id===n.id),o=[...e],[c]=o[l].items.splice(a,1);o[r].items.push(c),i(o)}},onDragEnd:function(t){let{active:n,over:d}=t;if(n.id.toString().includes("container")&&(null==d?void 0:d.id.toString().includes("container"))&&n&&d&&n.id!==d.id){let t=e.findIndex(e=>e.id===n.id),s=e.findIndex(e=>e.id===d.id),l=[...e];i(l=(0,r.Rp)(l,t,s))}if(n.id.toString().includes("item")&&(null==d?void 0:d.id.toString().includes("item"))&&n&&d&&n.id!==d.id){let t=S(n.id,"item"),s=S(d.id,"item");if(!t||!s)return;let l=e.findIndex(e=>e.id===t.id),a=e.findIndex(e=>e.id===s.id),o=t.items.findIndex(e=>e.id===n.id),c=s.items.findIndex(e=>e.id===d.id);if(l===a){let t=[...e];t[l].items=(0,r.Rp)(t[l].items,o,c),i(t)}else{let t=[...e],[n]=t[l].items.splice(o,1);t[a].items.splice(c,0,n),i(t)}}if(n.id.toString().includes("item")&&(null==d?void 0:d.id.toString().includes("container"))&&n&&d&&n.id!==d.id){let t=S(n.id,"item"),s=S(d.id,"container");if(!t||!s)return;let l=e.findIndex(e=>e.id===t.id),r=e.findIndex(e=>e.id===s.id),a=t.items.findIndex(e=>e.id===n.id),o=[...e],[c]=o[l].items.splice(a,1);o[r].items.push(c),i(o)}a(null)},children:[(0,n.jsx)(r.Fo,{items:e.map(e=>e.id),children:e.map(e=>(0,n.jsx)(f,{id:e.id,title:e.title,onAddItem:()=>{N(!0),c(e.id)},children:(0,n.jsx)(r.Fo,{items:e.items.map(e=>e.id),children:(0,n.jsx)("div",{className:"flex items-start flex-col gap-y-4",children:e.items.map(e=>(0,n.jsx)(h,{title:e.title,id:e.id},e.id))})})},e.id))}),(0,n.jsxs)(l.y9,{adjustScale:!1,children:[t&&t.toString().includes("item")&&(0,n.jsx)(h,{id:t,title:(e=>{let i=S(e,"item");if(!i)return"";let t=i.items.find(i=>i.id===e);return t?t.title:""})(t)}),t&&t.toString().includes("container")&&(0,n.jsx)(f,{id:t,title:(e=>{let i=S(e,"container");return i?i.title:""})(t),children:(e=>{let i=S(e,"container");return i?i.items:[]})(t).map(e=>(0,n.jsx)(h,{title:e.title,id:e.id},e.id))})]})]})})})]})}}},function(e){e.O(0,[88,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);